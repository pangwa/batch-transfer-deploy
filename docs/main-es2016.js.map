{"version":3,"sources":["util (ignored)","./src/app/meta/loading.service.ts","webpack:///util (ignored)?e5e2","webpack:///buffer (ignored)?6a25","buffer (ignored)","./src/app/meta/meta-sender/meta-sender.component.html","webpack:///util (ignored)?144c","./src/app/util/util.module.ts","webpack:///util (ignored)?38f5","crypto (ignored)","webpack:///buffer (ignored)?6e73","readable-stream (ignored)","./src/app/app.component.css","./src/app/meta/balance.pipe.ts","./src/environments/environment.ts","./src/app/util/web3.service.ts","./src/app/meta/meta.module.ts","./src/app/app.component.html","./src/app/app.component.ts","./src/app/app.module.ts","./src/$_lazy_route_resource lazy namespace object","./src/app/meta/meta-sender/meta-sender.component.scss","./src/app/meta/meta-sender/meta-sender.component.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main-es2016.js","sourcesContent":["/* (ignored) */","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoadingService {\n  private loaders = 0;\n  private tx = '';\n\n  constructor() { }\n\n  public addLoading() {\n    setTimeout(() => this.loaders++);\n  }\n\n  public removeLoading() {\n    setTimeout(() => {\n      if (this.loaders <= 0 ) {\n        return;\n      }\n      this.loaders--;\n    });\n  }\n\n  public stopLoading() {\n    setTimeout(() => this.loaders = 0);\n  }\n\n  public isLoading() {\n    return this.loaders > 0 || this.tx;\n  }\n\n  public setTx(tx: string) {\n    setTimeout(() => this.tx = tx);\n  }\n\n  public getTx(): string {\n    return this.tx;\n  }\n}\n","/* (ignored) */","/* (ignored) */","/* (ignored) */","export default \"<div class=\\\"container\\\">\\n  <mat-card class=\\\"settings\\\">\\n    <mat-card-title>\\n      转账设置\\n      <button *ngIf=\\\"isMainnet(); else testNet\\\" mat-button color=\\\"warn\\\">主网</button>\\n      <ng-template #testNet>\\n        <button mat-button color=\\\"primary\\\">测试网</button>\\n      </ng-template>\\n    </mat-card-title>\\n    <mat-card-content>\\n      <mat-form-field appearance=\\\"fill\\\" class=\\\"address-field\\\">\\n        <mat-label>批量转账合约地址</mat-label>\\n        <input matInput [value]=\\\"transAddress\\\">\\n      </mat-form-field>\\n      <mat-form-field id=\\\"address-selector\\\" class=\\\"address-field\\\">\\n        <mat-select name=\\\"account\\\" (selectionChange)=\\\"refreshBalance()\\\" [(value)]=\\\"model.account\\\" placeholder=\\\"账号\\\">\\n          <mat-option *ngFor=\\\"let account of accounts\\\" [value]=\\\"account\\\">{{account}}</mat-option>\\n        </mat-select>\\n      </mat-form-field>\\n      <button mat-button color=\\\"primary\\\" *ngIf=\\\"!isOwner() && model.account\\\">注意: 当前账号非管理账号</button>\\n      <br>\\n      <mat-form-field class=\\\"token-field\\\">\\n        <input type=\\\"text\\\"\\n          placeholder=\\\"选择ERC20代币\\\"\\n          aria-label=\\\"Token\\\"\\n          matInput\\n          [formControl]=\\\"tokenControl\\\"\\n          [matAutocomplete]=\\\"auto\\\">\\n        <mat-autocomplete autoActiveFirstOption #auto=\\\"matAutocomplete\\\"\\n          [displayWith]=\\\"displayTokenFn\\\"\\n          (optionSelected)=\\\"selectedToken($event)\\\"\\n        >\\n          <mat-option *ngFor=\\\"let token of filteredTokens | async\\\" [value]=\\\"token\\\">\\n            {{displayTokenFn(token)}}\\n          </mat-option>\\n        </mat-autocomplete>\\n      </mat-form-field>\\n    </mat-card-content>\\n    <mat-card-actions>\\n      <button mat-button color=\\\"accent\\\" *ngIf=\\\"tokenInfo\\\">\\n        {{tokenInfo.name}}\\n      </button>\\n      <button mat-button color=\\\"primary\\\" *ngIf=\\\"tokenInfo\\\">\\n        合约余额:\\n        {{tokenInfo?.balance | balance: tokenInfo?.decimals }} {{tokenInfo?.symbol}}\\n      </button>\\n    </mat-card-actions>\\n  </mat-card>\\n  <mat-card *ngIf=\\\"!tokenInfo\\\" class=\\\"placeholder\\\">\\n    请在左侧设置代币信息\\n  </mat-card>\\n  <mat-card *ngIf=\\\"tokenInfo\\\" class=\\\"details\\\">\\n    <mat-card-content class=\\\"send-form\\\">\\n      <ngx-file-drop dropZoneLabel=\\\"拖动地址列表文件到这里\\\"\\n        *ngIf=\\\"!fileName\\\"\\n        accept=\\\".csv\\\"\\n        (onFileDrop)=\\\"dropped($event)\\\" [multiple]=\\\"false\\\">\\n        <ng-template ngx-file-drop-content-tmp let-openFileSelector=\\\"openFileSelector\\\">\\n          拖动地址列表文件(CSV格式)到这里\\n          <button type=\\\"button\\\" (click)=\\\"openFileSelector()\\\">选择文件</button>\\n        </ng-template>\\n      </ngx-file-drop>\\n      <mat-toolbar *ngIf=\\\"fileName\\\">\\n        <mat-toolbar-row>\\n          <span>发送代币({{fileName}})  共{{this.addresses.length}}条, 合计{{getTotalAmount()}} {{tokenInfo?.symbol}}</span>\\n          <span class=\\\"example-spacer\\\"></span>\\n          <button mat-icon-button class=\\\"example-icon select-icon\\\" aria-label=\\\"select\\\" (click)=\\\"selectFile()\\\">\\n            <mat-icon>refresh</mat-icon>\\n          </button>\\n          <button mat-icon-button class=\\\"example-icon send-icon\\\" color=\\\"accent\\\" aria-label=\\\"发送\\\" (click)=\\\"doTransfer()\\\">\\n            <mat-icon>send</mat-icon>\\n          </button>\\n        </mat-toolbar-row>\\n      </mat-toolbar>\\n      <table *ngIf=\\\"fileName\\\" mat-table [dataSource]=\\\"dataSource\\\" class=\\\"mat-elevation-z8 account-table\\\">\\n        <ng-container matColumnDef=\\\"name\\\">\\n          <th mat-header-cell *matHeaderCellDef> 姓名 </th>\\n          <td mat-cell *matCellDef=\\\"let element\\\"> {{element.name}} </td>\\n        </ng-container>\\n        <ng-container matColumnDef=\\\"address\\\">\\n          <th mat-header-cell *matHeaderCellDef> 地址</th>\\n          <td mat-cell *matCellDef=\\\"let element\\\" [class.invalid-address]=\\\"!isAddressValid(element.address)\\\"> {{element.address}} </td>\\n        </ng-container>\\n        <ng-container matColumnDef=\\\"operations\\\">\\n          <th mat-header-cell *matHeaderCellDef> 操作</th>\\n          <td mat-cell *matCellDef=\\\"let element\\\">\\n            <button mat-icon-button class=\\\"delete-button\\\" (click)=\\\"deleteItem(element)\\\">\\n              <mat-icon>delete</mat-icon>\\n            </button>\\n          </td>\\n        </ng-container>\\n        <ng-container matColumnDef=\\\"amount\\\">\\n          <th mat-header-cell *matHeaderCellDef> 数额 </th>\\n          <td mat-cell *matCellDef=\\\"let element\\\"> {{element.amount}} </td>\\n        </ng-container>\\n        <tr mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></tr>\\n        <tr mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\"></tr>\\n      </table>\\n      <mat-paginator\\n        [class.hidden]=\\\"addresses.length === 0\\\"\\n        [pageSize]=\\\"10\\\"\\n        [pageSizeOptions]=\\\"[5, 10, 20]\\\"\\n        showFirstLastButtons></mat-paginator>\\n    </mat-card-content>\\n  </mat-card>\\n</div>\\n\";","/* (ignored) */","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {Web3Service} from './web3.service';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  providers: [\n    Web3Service\n  ],\n  declarations: []\n})\nexport class UtilModule {\n}\n","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","export default \"\\n.example-spacer {\\n  flex: 1 1 auto;\\n}\\n\\n.spinner {\\n  margin-left: 1em;\\n}\\n\\n.tx-details {\\n  display: flex;\\n  flex-direction: row;\\n  line-height: 1em;\\n}\\n\\n.tx-details-wrapper {\\n  line-height: 1em;\\n}\\n\\n.pending-tx {\\n  display: inline-block;\\n  width: 120px;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBO0VBQ0UsY0FBYztBQUNoQjs7QUFFQTtFQUNFLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UscUJBQXFCO0VBQ3JCLFlBQVk7RUFDWixtQkFBbUI7RUFDbkIsZ0JBQWdCO0VBQ2hCLHVCQUF1QjtBQUN6QiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXG4uZXhhbXBsZS1zcGFjZXIge1xuICBmbGV4OiAxIDEgYXV0bztcbn1cblxuLnNwaW5uZXIge1xuICBtYXJnaW4tbGVmdDogMWVtO1xufVxuXG4udHgtZGV0YWlscyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gIGxpbmUtaGVpZ2h0OiAxZW07XG59XG5cbi50eC1kZXRhaWxzLXdyYXBwZXIge1xuICBsaW5lLWhlaWdodDogMWVtO1xufVxuXG4ucGVuZGluZy10eCB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgd2lkdGg6IDEyMHB4O1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbn1cbiJdfQ== */\";","import { Pipe, PipeTransform } from '@angular/core';\ndeclare let require: any;\nconst BN = require('bignumber.js');\n\n@Pipe({\n  name: 'balance'\n})\nexport class BalancePipe implements PipeTransform {\n\n  transform(v: unknown, ...args: unknown[]): unknown {\n    let [ decimals ] = args;\n    decimals = decimals || 18;\n\n    const value = new BN(v);\n    decimals = decimals || 18;\n    return value.div(new BN(10).pow(decimals)).toString();\n  }\n}\n","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n","import {Injectable} from '@angular/core';\nimport {Subject} from 'rxjs';\nimport * as _ from 'lodash';\ndeclare let require: any;\nconst Web3 = require('web3');\nconst contract = require('@truffle/contract');\nimport { timer, Observable } from 'rxjs';\nimport { map, distinctUntilChanged } from 'rxjs/operators';\n\ndeclare let window: any;\n\n@Injectable()\nexport class Web3Service {\n  private web3: any;\n  private accounts: string[];\n  public ready = false;\n  private chainIdObs: Observable<number>;\n\n  public accountsObservable = new Subject<string[]>();\n\n  constructor() {\n    window.addEventListener('load', (event) => {\n      this.bootstrapWeb3();\n    });\n\n    this.chainIdObs = timer(500, 1000).pipe(map( () => {\n      return this.chainId()\n    }, distinctUntilChanged))\n  }\n\n  public bootstrapWeb3() {\n    // Checking if Web3 has been injected by the browser (Mist/MetaMask)\n    if (typeof window.ethereum !== 'undefined') {\n      // Use Mist/MetaMask's provider\n      window.ethereum.enable().then(() => {\n        this.web3 = new Web3(window.ethereum);\n      });\n    } else {\n      console.log('No web3? You should consider trying MetaMask!');\n\n      // Hack to provide backwards compatibility for Truffle, which uses web3js 0.20.x\n      Web3.providers.HttpProvider.prototype.sendAsync = Web3.providers.HttpProvider.prototype.send;\n      // fallback - use your fallback strategy (local node / hosted node + in-dapp id mgmt / fail)\n      this.web3 = new Web3(new Web3.providers.HttpProvider('http://localhost:8545'));\n    }\n\n    setInterval(() => this.refreshAccounts(), 1000);\n  }\n\n  public async artifactsToContract(artifacts) {\n    if (!this.web3) {\n      const delay = new Promise(resolve => setTimeout(resolve, 100));\n      await delay;\n      return await this.artifactsToContract(artifacts);\n    }\n\n    const contractAbstraction = contract(artifacts);\n    contractAbstraction.setProvider(this.web3.currentProvider);\n    return contractAbstraction;\n\n  }\n\n  private async refreshAccounts() {\n    const accs = await this.web3.eth.getAccounts();\n\n    // Get the initial account balance so it can be displayed.\n    if (accs.length === 0) {\n      console.warn('Couldn\\'t get any accounts! Make sure your Ethereum client is configured correctly.');\n      return;\n    }\n\n    if (!this.accounts || this.accounts.length !== accs.length || this.accounts[0] !== accs[0]) {\n      console.log('Observed new accounts');\n\n      this.accountsObservable.next(accs);\n      this.accounts = accs;\n    }\n\n    this.ready = true;\n  }\n\n  public chainId(): number {\n    return _.chain(this.web3)\n      .get('currentProvider.chainId', '0')\n      .parseInt().value();\n  }\n\n  public getChainIdObs(): Observable<number> {\n    return this.chainIdObs\n  }\n\n  public tokenContract(abi: any, address: string) {\n    return new this.web3.eth.Contract(abi, address);\n  }\n\n  public isAddress(addr: string) {\n    return this.web3.utils.isAddress(addr);\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport { FormsModule, ReactiveFormsModule, } from '@angular/forms';\nimport {MetaSenderComponent} from './meta-sender/meta-sender.component';\nimport {UtilModule} from '../util/util.module';\nimport {RouterModule} from '@angular/router';\nimport { NgxFileDropModule } from 'ngx-file-drop';\n\n// material.module.ts\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\nimport { MatBadgeModule } from '@angular/material/badge';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatChipsModule } from '@angular/material/chips';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatGridListModule } from '@angular/material/grid-list';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatListModule } from '@angular/material/list';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatIconModule } from '@angular/material/icon';\nimport {MatPaginatorModule} from '@angular/material/paginator';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatSidenavModule } from '@angular/material/sidenav';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\nimport { MatTableModule } from '@angular/material/table';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations';\nimport { BalancePipe } from './balance.pipe';\n\n@NgModule({\n  imports: [\n    BrowserAnimationsModule,\n    CommonModule,\n    FormsModule,\n    MatAutocompleteModule,\n    MatBadgeModule,\n    MatButtonModule,\n    MatCardModule,\n    MatChipsModule,\n    MatFormFieldModule,\n    MatGridListModule,\n    MatIconModule,\n    MatInputModule,\n    MatPaginatorModule,\n    MatSelectModule,\n    MatSelectModule,\n    MatSnackBarModule,\n    MatTableModule,\n    MatToolbarModule,\n    NgxFileDropModule,\n    ReactiveFormsModule,\n    RouterModule,\n    UtilModule\n  ],\n  declarations: [MetaSenderComponent, BalancePipe],\n  exports: [MetaSenderComponent]\n})\nexport class MetaModule {\n}\n","export default \"<mat-toolbar color=\\\"primary\\\" class=\\\"toolbar\\\">\\n  <button mat-button class=\\\"example-icon\\\">\\n    批量转账工具\\n  </button>\\n  <span class=\\\"example-spacer\\\"></span>\\n  <div class=\\\"tx-details\\\">\\n    <div class=\\\"tx-details-wrapper\\\" *ngIf=\\\"pendingTx()\\\">\\n      <mat-icon aria-hidden=\\\"false\\\" aria-label=\\\"Pending Transaction\\\">loop</mat-icon>\\n      <span class=\\\"pending-tx\\\" [matTooltip]=\\\"pendingTx()\\\">{{pendingTx()}}</span>\\n    </div>\\n    <mat-progress-spinner\\n      *ngIf=\\\"isLoading()\\\"\\n      class=\\\"spinner\\\"\\n      color=\\\"warn\\\"\\n      diameter=\\\"20\\\"\\n      mode=\\\"indeterminate\\\" >\\n    </mat-progress-spinner>\\n\\n  </div>\\n</mat-toolbar>\\n<app-meta-sender></app-meta-sender>\\n\";","import { Component } from '@angular/core';\nimport { LoadingService } from 'app/meta/loading.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'app works!';\n\n  constructor(private loadingService: LoadingService) {\n  }\n\n  public isLoading() {\n    return this.loadingService.isLoading();\n  }\n\n  public pendingTx(): string {\n    return this.loadingService.getTx();\n  }\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpClientModule } from '@angular/common/http';\n\nimport { AppComponent } from './app.component';\nimport {MetaModule} from './meta/meta.module';\nimport { CommonModule } from '@angular/common';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n// material.module.ts\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatTooltipModule } from '@angular/material/tooltip';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserAnimationsModule,\n    CommonModule,\n    MatButtonModule,\n    MatCardModule,\n    MatFormFieldModule,\n    MatIconModule,\n    MatInputModule,\n    MatProgressSpinnerModule,\n    MatToolbarModule,\n    MatTooltipModule,\n    BrowserModule,\n    FormsModule,\n    HttpClientModule,\n    MetaModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"crnd\";","export default \".container {\\n  display: flex;\\n  flex-direction: row;\\n  width: 100%;\\n}\\n\\n.settings {\\n  max-width: 420px;\\n  flex: 1;\\n}\\n\\n.details {\\n  flex: 3;\\n}\\n\\n.address-field {\\n  width: 400px;\\n}\\n\\n.token-field {\\n  width: 400px;\\n}\\n\\n.send-form {\\n  min-width: 600px;\\n}\\n\\n.account-table {\\n  width: 100%;\\n}\\n\\n.example-spacer {\\n  flex: 1 1 auto;\\n}\\n\\n.hidden {\\n  display: none;\\n}\\n\\n.invalid-address {\\n  color: red;\\n}\\n\\n.placeholder {\\n  height: 100%;\\n  padding: 0;\\n  margin: 0;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  min-height: 300px;\\n  flex: 3;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWV0YS9tZXRhLXNlbmRlci9tZXRhLXNlbmRlci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNFLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsV0FBVztBQUFiOztBQUdBO0VBQ0UsZ0JBQWdCO0VBQ2hCLE9BQU87QUFBVDs7QUFHQTtFQUNFLE9BQU87QUFBVDs7QUFHQTtFQUNFLFlBQVk7QUFBZDs7QUFFQTtFQUNFLFlBQVk7QUFDZDs7QUFNQTtFQUNFLGdCQUFnQjtBQUhsQjs7QUFNQTtFQUNFLFdBQVc7QUFIYjs7QUFNQTtFQUNFLGNBQWM7QUFIaEI7O0FBTUE7RUFDRSxhQUFhO0FBSGY7O0FBTUE7RUFDRSxVQUFVO0FBSFo7O0FBTUE7RUFDRSxZQUFZO0VBQ1osVUFBVTtFQUNWLFNBQVM7RUFDVCxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLHVCQUF1QjtFQUN2QixpQkFBaUI7RUFDakIsT0FBTztBQUhUIiwiZmlsZSI6InNyYy9hcHAvbWV0YS9tZXRhLXNlbmRlci9tZXRhLXNlbmRlci5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLmNvbnRhaW5lciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4uc2V0dGluZ3Mge1xuICBtYXgtd2lkdGg6IDQyMHB4O1xuICBmbGV4OiAxO1xufVxuXG4uZGV0YWlscyB7XG4gIGZsZXg6IDM7XG59XG5cbi5hZGRyZXNzLWZpZWxkIHtcbiAgd2lkdGg6IDQwMHB4O1xufVxuLnRva2VuLWZpZWxkIHtcbiAgd2lkdGg6IDQwMHB4O1xufVxuXG5cbi50ZXN0bmV0LWxhYmVsIHtcbn1cblxuLnNlbmQtZm9ybSB7XG4gIG1pbi13aWR0aDogNjAwcHg7XG59XG5cbi5hY2NvdW50LXRhYmxlIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5leGFtcGxlLXNwYWNlciB7XG4gIGZsZXg6IDEgMSBhdXRvO1xufVxuXG4uaGlkZGVuIHtcbiAgZGlzcGxheTogbm9uZTtcbn1cblxuLmludmFsaWQtYWRkcmVzcyB7XG4gIGNvbG9yOiByZWQ7XG59XG5cbi5wbGFjZWhvbGRlciB7XG4gIGhlaWdodDogMTAwJTtcbiAgcGFkZGluZzogMDtcbiAgbWFyZ2luOiAwO1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgbWluLWhlaWdodDogMzAwcHg7XG4gIGZsZXg6IDM7XG59XG4iXX0= */\";","import {Component, AfterViewInit, OnInit, OnDestroy, ViewChild } from '@angular/core';\nimport {FormControl} from '@angular/forms';\nimport * as _ from 'lodash';\nimport * as parse from 'csv-parse/lib/sync';\ndeclare let require: any;\nconst BN = require('bignumber.js');\nimport {Web3Service} from '../../util/web3.service';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport {MatPaginator} from '@angular/material/paginator';\nimport {MatTableDataSource} from '@angular/material/table';\nimport { LoadingService } from 'app/meta/loading.service';\n\nimport { from, of, interval, Observable, Subject, Subscription, } from 'rxjs';\nimport { catchError, combineLatest, debounceTime, finalize, map, startWith, switchMap, throttleTime, zip, } from 'rxjs/operators';\n\nconst wallebot_artifacts = require('../../../../build/contracts/WalleBot.json');\nconst erc20_artifacts = require('../../../../build/contracts/TokenImpl.json');\n\ninterface TokenData {\n  name: string;\n  address: string;\n}\n\nconst predefinedTokens = {\n  4: [{\n    name: 'CRU',\n    address: '0x002f24009df0c1e9215c98cec76f18d8eaf3db0f',\n  }, {\n    name: 'USDT',\n    address: '0xd9ba894e0097f8cc2bbc9d24d308b98e36dc6d02',\n  }],\n  1: [{\n    name: 'CRU',\n    address: '0x32a7c02e79c4ea1008dd6564b35f131428673c41'\n  }, {\n    name: 'CSM',\n    address: '0x2620638EDA99F9e7E902Ea24a285456EE9438861',\n  }, {\n    name: 'CRU18',\n    address: '0x655ad6CC3Cf6BDCCaB3fa286CB328F3bce9a3E38'\n  }, {\n    name: 'USDT',\n    address: '0xdac17f958d2ee523a2206206994597c13d831ec7',\n  }, {\n    name: \"USDC\",\n    address: '0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48',\n  }]\n};\n\nconst emptyTokenArray = [] as TokenData[]\n\ninterface TokenInfo {\n  contract: any;\n  name: string;\n  decimals: number;\n  symbol: string;\n  balance: any;\n  tokenAddress;\n}\n\ninterface TokenInfoResult {\n  status?: string;\n  info?: TokenInfo;\n  transferData?: any;\n}\n\ninterface AccountData {\n  name: string;\n  address: string;\n  amount: string;\n}\n\nconst maxSize = 100 * 1024; // 100kb\n\n@Component({\n  selector: 'app-meta-sender',\n  templateUrl: './meta-sender.component.html',\n  styleUrls: ['./meta-sender.component.scss']\n})\nexport class MetaSenderComponent implements AfterViewInit, OnInit, OnDestroy {\n  @ViewChild(MatPaginator) paginator: MatPaginator;\n\n  tokenControl = new FormControl();\n\n  accounts: string[];\n  WalleBot: any;\n  ownerAccount: string;\n  batchContract: any;\n  tokenContract: any;\n  filteredTokens: any;\n  transAddress = '';\n\n  $subAccount: Subscription;\n  $subLoadBalance: Subscription;\n  $messageSub: Subscription;\n  $subToken: Subscription;\n  $subFile: Subscription;\n  fileName: string;\n  addresses: AccountData[] = [];\n  displayedColumns: string[] = ['name', 'address', 'amount', 'operations'];\n  dataSource = new MatTableDataSource<AccountData>(this.addresses);\n\n  tokenInfo: TokenInfo;\n\n  private dataObservable = new Subject<string>();\n  private tokenObservable = new Subject<TokenData>();\n\n  model = {\n    amount: 5,\n    receiver: '',\n    balance: 0,\n    account: '',\n    tokenAddress: '',\n  };\n\n  status = '';\n\n  constructor(private web3Service: Web3Service,\n              private matSnackBar: MatSnackBar,\n              private loadingService: LoadingService) {\n    console.log('Constructor: ' + web3Service);\n  }\n\n  ngOnInit(): void {\n    console.log('OnInit: ' + this.web3Service);\n    this.watchAccount();\n    const obContract = from(this.loadTransContract());\n\n    const sub = obContract.subscribe((data: any) => {\n      this.ownerAccount = data.owners;\n      this.transAddress = data.instance.address;\n      sub.unsubscribe();\n    }, () => {});\n\n    this.filteredTokens = this.tokenControl.valueChanges\n      .pipe(\n        startWith(''),\n        combineLatest(this.web3Service.getChainIdObs()),\n        map(([value]) => {\n          this.tokenObservable.next({\n            name: 'input',\n            address: value,\n          });\n          const v = _.lowerCase(value);\n          return _.chain(this.getTokens())\n            .filter((token) => _.includes(_.lowerCase(token.name), v)\n              || _.includes(_.lowerCase(token.address), v))\n            .value();\n        })\n      );\n\n    const obToken = this.tokenObservable\n      .pipe(debounceTime(1000),\n            throttleTime(500));\n\n    this.$subToken = obContract.pipe(\n      combineLatest(obToken),\n      switchMap(([transferData, token]) => {\n        this.loadingService.addLoading();\n        return this.loadTokenContractData(transferData, token.address)\n          .pipe(finalize(() => this.loadingService.removeLoading()),\n                catchError(ex => {\n                  console.error('error ', ex);\n                  return of({\n                    status: '加载信息失败',\n                  });\n                }));\n      })).subscribe((info: any) => {\n        console.log('got ', info);\n        if (!info) {\n          return;\n        }\n        if (info.status) {\n          this.setStatus(info.status);\n          return;\n        }\n\n        const transferData = info.transferData;\n        console.log('trans contract', transferData.instance.address);\n\n        if (this.$messageSub && this.$messageSub !== transferData.sub) {\n          this.$messageSub.unsubscribe();\n        }\n        this.$messageSub = transferData.sub;\n        this.batchContract = transferData.instance;\n\n        this.tokenInfo = info.info;\n      }, err => {\n        this.setStatus('加载代币信息失败');\n        console.log('error', err);\n      });\n  }\n\n  ngOnDestroy() {\n    const unsub = (s: Subscription) => {\n      if (s) {\n        s.unsubscribe();\n      }\n    };\n\n    unsub(this.$subAccount);\n    unsub(this.$subLoadBalance);\n    unsub(this.$messageSub);\n    unsub(this.$subToken);\n    unsub(this.$subFile);\n  }\n\n  ngAfterViewInit() {\n    this.dataSource.paginator = this.paginator;\n  }\n\n  watchAccount() {\n    this.$subAccount = this.web3Service.accountsObservable.subscribe((accounts) => {\n      this.accounts = accounts;\n      this.model.account = accounts[0];\n      this.refreshBalance();\n    });\n  }\n\n  setStatus(status) {\n    this.matSnackBar.open(status, null, {duration: 3000});\n  }\n\n  async sendCoin() {\n    if (!this.WalleBot) {\n      this.setStatus('WalleBot is not loaded, unable to send transaction');\n      return;\n    }\n\n    const amount = this.model.amount;\n    const receiver = this.model.receiver;\n\n    console.log('Sending coins' + amount + ' to ' + receiver);\n\n    this.setStatus('Initiating transaction... (please wait)');\n    try {\n      const deployedWalleBot = await this.WalleBot.deployed();\n      const transaction = await deployedWalleBot.sendCoin.sendTransaction(receiver, amount, {from: this.model.account});\n\n      if (!transaction) {\n        this.setStatus('Transaction failed!');\n      } else {\n        this.setStatus('Transaction complete!');\n      }\n    } catch (e) {\n      console.log(e);\n      this.setStatus('Error sending coin; see log.');\n    }\n  }\n\n  async refreshBalance() {\n    if (!this.tokenInfo) {\n      return;\n    }\n    console.log('Refreshing balance');\n    this.tokenObservable.next({\n      name: this.tokenInfo.name,\n      address: this.tokenInfo.tokenAddress,\n    });\n  }\n\n  setAmount(e) {\n    console.log('Setting amount: ' + e.target.value);\n    this.model.amount = e.target.value;\n  }\n\n  setReceiver(e) {\n    console.log('Setting receiver: ' + e.target.value);\n    this.model.receiver = e.target.value;\n  }\n\n  public isMainnet(): boolean {\n    return this.web3Service.chainId() === 1;\n  }\n\n  public chainId(): number {\n    return this.web3Service.chainId();\n  }\n\n    public isOwner(): boolean {\n      return _.some(this.ownerAccount, (acct) => acct === this.model.account);\n    }\n\n    public refreshToken() {\n\n    }\n\n    public displayTokenFn(token) {\n      if (!token) {\n        return null;\n      }\n      return token.name + ` (${token.address})`;\n    }\n\n    public selectedToken(event) {\n      this.tokenObservable.next(event.option.value);\n    }\n\n    private loadTokenInfo(token) {\n    }\n\n    private loadTokenContractData(transferData: any, tokenAddress: string): Observable<TokenInfoResult> {\n      if (!tokenAddress) {\n        return of();\n      }\n      try {\n        const contract = this.web3Service.tokenContract(erc20_artifacts.abi, tokenAddress);\n        return from(contract.methods.balanceOf(transferData.instance.address).call())\n          .pipe(zip(from(contract.methods.name().call()),\n                    from(contract.methods.symbol().call()),\n                    from(contract.methods.decimals().call())),\n                map(([balance, name, symbol, decimals]) => {\n                  console.log('info: ', balance, name, symbol, decimals);\n                  return {\n                    status: null,\n                    transferData,\n                    info: {\n                      tokenAddress,\n                      balance,\n                      contract,\n                      decimals,\n                      name,\n                      symbol,\n                    }\n                  } as any;\n                }));\n      } catch (e) {\n        console.log('caught', e);\n        return of({\n          status: 'invalid contract address',\n        });\n      }\n    }\n\n    private loadTransContract() {\n      return this.web3Service.artifactsToContract(wallebot_artifacts)\n        .then((WalleBotAbstraction) => {\n          const walleBot = WalleBotAbstraction;\n          return walleBot.deployed().then(async (deployed) => {\n            const owners = await deployed.owners.call();\n//            const sub = await deployed.TransferSuccess({\n//              fromBlock: 'latest',\n//            }, (err, ev) => {\n//              console.log('Batch transfer event came in, refreshing balance', ev);\n//              if (ev.transactionHash === this.loadingService.getTx()) {\n//                this.loadingService.setTx('');\n//              }\n//              this.refreshBalance();\n//            });\n            return {\n              instance: deployed,\n              owners,\n              sub: null,\n            };\n          });\n        });\n    }\n    public dropped(files: any[]) {\n      if (!files || files.length === 0 || files.length > 1) {\n        this.setStatus('请选择一个CSV文件, 不支持多选');\n        return;\n      }\n      const droppedFile = files[0];\n      if (droppedFile.fileEntry.isFile) {\n        const fileEntry = droppedFile.fileEntry as any;\n        fileEntry.file((file: File) => {\n          if (file.size > maxSize) {\n            this.setStatus('文件过大');\n            return;\n          }\n          console.log(droppedFile.relativePath, file);\n          this.loadFileContent(file);\n        });\n      } else {\n        this.setStatus('请选择一个CSV文件');\n      }\n    }\n\n    private loadFileContent(file: File) {\n      if (this.$subFile) {\n        this.$subFile.unsubscribe();\n      }\n      this.$subFile = this.readFile(file)\n        .pipe(map(content => {\n          return (parse as any)(content, {\n            columns: ['name', 'address', 'amount'],\n            skip_empty_lines: true\n          });\n        })).subscribe(rows => {\n          console.log('got rows', rows);\n          this.fileName = file.name;\n          const addresses = _.map(rows, (row) => {\n            return {\n              ...row,\n              amount: Number(row.amount),\n            };\n          });\n          this.setAddressess(addresses);\n        }, err => {\n          this.setStatus('读取文件失败');\n          console.log('error', err);\n        });\n    }\n\n    private readFile(file: File) {\n      return new Observable(obs => {\n        const reader: FileReader = new FileReader();\n\n        reader.onerror = err => obs.error(err);\n        reader.onabort = err => obs.error(err);\n        reader.onload = () => obs.next(reader.result);\n        reader.onloadend = () => obs.complete();\n\n        return reader.readAsText(file, 'utf8');\n      });\n    }\n\n    public doTransfer() {\n      const invalidAccount = this.firstInvalidAccount();\n      if (invalidAccount) {\n        this.setStatus(`${invalidAccount.name} 的地址错误, 请检查!`);\n        return;\n      }\n      const totalAmount = this.getTotalAmount();\n      const amount = this.convertAmountToRaw(totalAmount);\n      const balance = new BN(this.tokenInfo.balance);\n      if (amount.isGreaterThan(balance)) {\n        this.setStatus('合约中余额不足以转账, 请检查!');\n        return;\n      }\n      const addresses = _.map(this.addresses, 'address');\n      const amounts = _.map(this.addresses, (addr) => this.convertAmountToRaw(addr.amount));\n      this.loadingService.addLoading();\n      const ret = this.batchContract\n        .batchSend(this.tokenInfo.tokenAddress, addresses, amounts, {\n          from: this.model.account,\n        });\n      ret.on('transactionHash', (tx) => this.loadingService.setTx(tx));\n      ret.then((tx) => {\n        console.log('updating transaction', tx.tx);\n        this.loadingService.setTx('');\n        this.loadingService.removeLoading();\n        this.setStatus('发送交易成功');\n        this.setAddressess([]);\n        this.fileName = null;\n      }).catch(ex => {\n        this.loadingService.setTx('');\n        this.loadingService.removeLoading();\n        this.setStatus('发送交易失败');\n        console.error('faield', ex);\n      });\n      console.log('transfer');\n    }\n\n    public deleteItem(item) {\n      const addresses = _.filter(this.addresses, (v) => v !== item);\n      this.setAddressess(addresses);\n      console.log('delete item', item);\n    }\n\n    public selectFile() {\n      this.fileName = '';\n      this.setAddressess([]);\n    }\n\n    public getTotalAmount() {\n      return _.reduce(this.addresses, (total, row) => total + row.amount, 0);\n    }\n\n    public setAddressess(addresses: AccountData[]) {\n      this.addresses = addresses;\n      this.dataSource = new MatTableDataSource<AccountData>(this.addresses);\n      this.dataSource.paginator = this.paginator;\n    }\n\n    public isAddressValid(address: string) {\n      return this.web3Service.isAddress(address);\n    }\n\n    public firstInvalidAccount() {\n      return _.find(this.addresses, (account) => !this.isAddressValid(account.address));\n    }\n\n    private convertAmountToRaw(amount: number) {\n      return new BN(amount)\n        .multipliedBy(new BN(10).pow(this.tokenInfo.decimals));\n    }\n\n    private getTokens() {\n      if (!_.has(predefinedTokens, this.web3Service.chainId())) {\n        return emptyTokenArray\n      }\n      return predefinedTokens[this.web3Service.chainId()]\n    }\n}\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n"],"sourceRoot":"webpack:///"}